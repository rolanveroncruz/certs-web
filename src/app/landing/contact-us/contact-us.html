<div class="contact-us-container" id="contact">
  <div class="contact-us-row">

    <!-- LEFT: text panel -->
    <div class="contact-us">
      <h1>Contact Us</h1>

      <div class="contact-us-message">
        Our team is always open to assist. Chat with us today.
      </div>
      <p></p>
      <div class="contact-us-address">
        <p>Level 10-1 One Global Place</p>
        <p>5th Avenue and 25th Street</p>
        <p>Taguig, 1632 Metro Manila</p>
      </div>

      <div class="contact-us-email">
        <p>sales&#64;certs.solutions</p>
        <p>(+63) 917 102 7214</p>
      </div>
    </div>

    <!-- RIGHT: form panel -->
    <div class="contact-us-form">

      <form
        [formGroup]="contactForm"
        (ngSubmit)="onSubmitNetlify()"
      name="contact-us"
      method="POST"
      data-netlify="true"
      data-netlify-honeypot="bot-field"
      action="/"
      >
      <!-- ✅ NETLIFY: required hidden form-name -->
      <input type="hidden" name="form-name" value="contact-us" />

      <!-- ✅ NETLIFY: honeypot field (hidden) -->
      <p style="display:none">
        <label>Don’t fill this out: <input name="bot-field" /></label>
      </p>

      <mat-form-field appearance="outline" class="my-rounded-field">
        <mat-label>First Name</mat-label>
        <!-- ✅ NOTE: keep both name + formControlName -->
        <input name="firstName" formControlName="firstName" matInput required>
      </mat-form-field>

      <mat-form-field appearance="outline" class="my-rounded-field">
        <mat-label>Last Name</mat-label>
        <input name="lastName" formControlName="lastName" matInput required>
      </mat-form-field>

      <mat-form-field appearance="outline" class="my-rounded-field">
        <mat-label>Work Email</mat-label>
        <input name="email" formControlName="email" matInput type="email" required>
      </mat-form-field>

      <mat-form-field appearance="outline" class="my-rounded-field">
        <mat-label>Phone Number</mat-label>
        <input name="phone" formControlName="phone" matInput>
      </mat-form-field>

      <mat-form-field appearance="outline" class="my-rounded-field">
        <mat-label>Company</mat-label>
        <input name="company" formControlName="company" matInput>
      </mat-form-field>

      <mat-form-field appearance="outline" class="my-rounded-field">
        <mat-label>Product Inquiry and Message</mat-label>
        <textarea name="message" formControlName="message" matInput rows="4" required></textarea>
      </mat-form-field>

      <!-- ✅ NEW: user feedback message -->
      @if (submitState() === 'success') {
        <div class="form-status success">
          Thanks! Your message has been sent.
        </div>
      } @else if (submitState() === 'error') {
        <div class="form-status error">
          Sorry — something went wrong. Please try again.
        </div>
      }

      <!-- ✅ CHANGE: disable while submitting + show sending text -->
      <button
        matButton="filled"
        type="submit"
        [disabled]="submitting() || contactForm.invalid"
      >
        {{ submitting() ? 'Sending…' : 'Submit' }}
      </button>

      </form>
    </div>

  </div>
</div>
